# How it works

Open Lavatory establishes a connection through a two phase process; signaling and transport.
When a session is created, something something setup provided using the users [signaling layer](/api/signaling).
After performing a handshake to exchange encryption keys, the session is taken over by the [transport layer](/api/transport).

## Signaling

There are currently two signaling protocols supported; [MQTT](/api/signaling/mqtt) and [Ntfy](/api/signaling/ntfy).
Both of which have public infrastructure available for use, but also allow for self-hosting.

| Protocol | Description |
|----------|-------------|
| [MQTT](/api/signaling/mqtt) | A lightweight pub-sub protocol used for IoT and messaging |
| [Ntfy](/api/signaling/ntfy) | A simple http-based push notification protocol |
| [Gun](/api/signaling/gun) | A decentralized database for data retrieval |
| Waku (not implemented) | A p2p messaging protocol |
| Nostr (not implemented) | A p2p social layer |

:::info
Depending on configuration the signaling layer can also be configured for transportation.
This allows for a mailbox style design where the signaling layer is used to deliver messages.
:::

## Transport

Currently the only transport protocol supported is [WebRTC](/api/transport/webrtc).

| Protocol | Description |
|----------|-------------|
| [WebRTC](/api/transport/webrtc) | A p2p messaging protocol for sending and receiving messages between devices |

Ideally at some point we support direct transport layer communication through [WebHID](), [WebUSB](), [WebSerial]() and [WebBluetooth]().
